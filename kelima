-- Auto Training Script untuk meningkatkan Combat Power
-- Optimized for Delta Executor

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer

-- Services
local TrainSpeedHasChanged = ReplicatedStorage.TrainSystem.Remote.TrainSpeedHasChanged
local ApplyMobileTrain = ReplicatedStorage.TrainEquipment.Remote.ApplyMobileTrain
local ApplyStationaryTrain = ReplicatedStorage.TrainEquipment.Remote.ApplyStationaryTrain
local ApplyBindingTrainingEffect = ReplicatedStorage.TrainEquipment.Remote.ApplyBindingTrainingEffect
local ApplyBindingTrainingBoostEffect = ReplicatedStorage.TrainEquipment.Remote.ApplyBindingTrainingBoostEffect

-- Variabel Global
local autoTrainEnabled = false
local selectedTrainingType = "arms" -- default
local trainingSpeed = 4
local trainingDelay = 0.01 -- delay minimal untuk performa maksimal

-- Training Equipment IDs (sesuaikan dengan game)
local TrainingTypes = {
    arms = "Training_2001",
    legs = "Training_2002",
    back = "Training_2003",
    agility = "Training_2004"
}

-- Fungsi Auto Train
local function startAutoTrain()
    spawn(function()
        while autoTrainEnabled do
            pcall(function()
                -- Apply Mobile Train
                ApplyMobileTrain:InvokeServer()
                
                -- Fire Training Speed
                TrainSpeedHasChanged:FireServer(trainingSpeed)
                
                -- Apply Training Effect
                local trainingId = TrainingTypes[selectedTrainingType]
                if trainingId then
                    ApplyBindingTrainingEffect:InvokeServer(trainingId, "Emit_2")
                end
                
                -- Apply Boost Effect
                ApplyBindingTrainingBoostEffect:InvokeServer()
                
                -- Apply Stationary Train
                ApplyStationaryTrain:InvokeServer()
            end)
            
            task.wait(trainingDelay)
        end
    end)
end

-- GUI Creation
local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local ToggleButton = Instance.new("TextButton")
local StatusLabel = Instance.new("TextLabel")
local SpeedLabel = Instance.new("TextLabel")
local SpeedSlider = Instance.new("TextButton")
local TrainTypeLabel = Instance.new("TextLabel")
local ArmsButton = Instance.new("TextButton")
local LegsButton = Instance.new("TextButton")
local BackButton = Instance.new("TextButton")
local AgilityButton = Instance.new("TextButton")
local DelayLabel = Instance.new("TextLabel")
local DelayInput = Instance.new("TextBox")
local CombatPowerLabel = Instance.new("TextLabel")
local CloseButton = Instance.new("TextButton")

-- Properties
ScreenGui.Name = "AutoTrainGUI"
ScreenGui.Parent = game.CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
MainFrame.BorderSizePixel = 0
MainFrame.Position = UDim2.new(0.35, 0, 0.25, 0)
MainFrame.Size = UDim2.new(0, 350, 0, 450)
MainFrame.Active = true
MainFrame.Draggable = true

-- Corner Radius
local Corner = Instance.new("UICorner")
Corner.CornerRadius = UDim.new(0, 12)
Corner.Parent = MainFrame

-- Title
Title.Name = "Title"
Title.Parent = MainFrame
Title.BackgroundTransparency = 1
Title.Position = UDim2.new(0, 0, 0, 0)
Title.Size = UDim2.new(1, 0, 0, 50)
Title.Font = Enum.Font.GothamBold
Title.Text = "⚡ Combat Power Booster"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 20

-- Close Button
CloseButton.Name = "CloseButton"
CloseButton.Parent = MainFrame
CloseButton.BackgroundColor3 = Color3.fromRGB(220, 50, 50)
CloseButton.Position = UDim2.new(0.9, 0, 0.02, 0)
CloseButton.Size = UDim2.new(0, 30, 0, 30)
CloseButton.Font = Enum.Font.GothamBold
CloseButton.Text = "X"
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.TextSize = 16

local CloseCorner = Instance.new("UICorner")
CloseCorner.CornerRadius = UDim.new(0, 8)
CloseCorner.Parent = CloseButton

CloseButton.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
    autoTrainEnabled = false
end)

-- Status Label
StatusLabel.Name = "StatusLabel"
StatusLabel.Parent = MainFrame
StatusLabel.BackgroundTransparency = 1
StatusLabel.Position = UDim2.new(0.1, 0, 0.13, 0)
StatusLabel.Size = UDim2.new(0.8, 0, 0, 30)
StatusLabel.Font = Enum.Font.Gotham
StatusLabel.Text = "Status: Inactive ⭕"
StatusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
StatusLabel.TextSize = 14

-- Toggle Button
ToggleButton.Name = "ToggleButton"
ToggleButton.Parent = MainFrame
ToggleButton.BackgroundColor3 = Color3.fromRGB(60, 180, 80)
ToggleButton.Position = UDim2.new(0.15, 0, 0.21, 0)
ToggleButton.Size = UDim2.new(0.7, 0, 0, 40)
ToggleButton.Font = Enum.Font.GothamBold
ToggleButton.Text = "START AUTO TRAIN"
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleButton.TextSize = 16

local ToggleCorner = Instance.new("UICorner")
ToggleCorner.CornerRadius = UDim.new(0, 8)
ToggleCorner.Parent = ToggleButton

-- Training Type Selection
TrainTypeLabel.Name = "TrainTypeLabel"
TrainTypeLabel.Parent = MainFrame
TrainTypeLabel.BackgroundTransparency = 1
TrainTypeLabel.Position = UDim2.new(0.1, 0, 0.35, 0)
TrainTypeLabel.Size = UDim2.new(0.8, 0, 0, 25)
TrainTypeLabel.Font = Enum.Font.GothamBold
TrainTypeLabel.Text = "Training Type:"
TrainTypeLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TrainTypeLabel.TextSize = 14
TrainTypeLabel.TextXAlignment = Enum.TextXAlignment.Left

-- Function to create training type buttons
local function createTypeButton(name, position, yPos)
    local btn = Instance.new("TextButton")
    btn.Name = name .. "Button"
    btn.Parent = MainFrame
    btn.BackgroundColor3 = Color3.fromRGB(50, 50, 60)
    btn.Position = UDim2.new(position, 0, yPos, 0)
    btn.Size = UDim2.new(0.35, 0, 0, 35)
    btn.Font = Enum.Font.Gotham
    btn.Text = name:upper()
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.TextSize = 13
    
    local btnCorner = Instance.new("UICorner")
    btnCorner.CornerRadius = UDim.new(0, 6)
    btnCorner.Parent = btn
    
    btn.MouseButton1Click:Connect(function()
        selectedTrainingType = name:lower()
        -- Reset all buttons
        ArmsButton.BackgroundColor3 = Color3.fromRGB(50, 50, 60)
        LegsButton.BackgroundColor3 = Color3.fromRGB(50, 50, 60)
        BackButton.BackgroundColor3 = Color3.fromRGB(50, 50, 60)
        AgilityButton.BackgroundColor3 = Color3.fromRGB(50, 50, 60)
        -- Highlight selected
        btn.BackgroundColor3 = Color3.fromRGB(80, 150, 255)
    end)
    
    return btn
end

ArmsButton = createTypeButton("Arms", 0.1, 0.43)
LegsButton = createTypeButton("Legs", 0.55, 0.43)
BackButton = createTypeButton("Back", 0.1, 0.53)
AgilityButton = createTypeButton("Agility", 0.55, 0.53)

-- Set Arms as default
ArmsButton.BackgroundColor3 = Color3.fromRGB(80, 150, 255)

-- Speed Controls
SpeedLabel.Name = "SpeedLabel"
SpeedLabel.Parent = MainFrame
SpeedLabel.BackgroundTransparency = 1
SpeedLabel.Position = UDim2.new(0.1, 0, 0.63, 0)
SpeedLabel.Size = UDim2.new(0.8, 0, 0, 25)
SpeedLabel.Font = Enum.Font.GothamBold
SpeedLabel.Text = "Training Speed: " .. trainingSpeed
SpeedLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
SpeedLabel.TextSize = 14
SpeedLabel.TextXAlignment = Enum.TextXAlignment.Left

SpeedSlider.Name = "SpeedSlider"
SpeedSlider.Parent = MainFrame
SpeedSlider.BackgroundColor3 = Color3.fromRGB(50, 50, 60)
SpeedSlider.Position = UDim2.new(0.1, 0, 0.7, 0)
SpeedSlider.Size = UDim2.new(0.8, 0, 0, 30)
SpeedSlider.Font = Enum.Font.Gotham
SpeedSlider.Text = "Increase Speed +"
SpeedSlider.TextColor3 = Color3.fromRGB(255, 255, 255)
SpeedSlider.TextSize = 12

local SpeedCorner = Instance.new("UICorner")
SpeedCorner.CornerRadius = UDim.new(0, 6)
SpeedCorner.Parent = SpeedSlider

SpeedSlider.MouseButton1Click:Connect(function()
    trainingSpeed = trainingSpeed + 1
    if trainingSpeed > 10 then trainingSpeed = 1 end
    SpeedLabel.Text = "Training Speed: " .. trainingSpeed
end)

-- Delay Input
DelayLabel.Name = "DelayLabel"
DelayLabel.Parent = MainFrame
DelayLabel.BackgroundTransparency = 1
DelayLabel.Position = UDim2.new(0.1, 0, 0.78, 0)
DelayLabel.Size = UDim2.new(0.8, 0, 0, 25)
DelayLabel.Font = Enum.Font.GothamBold
DelayLabel.Text = "Delay (seconds):"
DelayLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
DelayLabel.TextSize = 14
DelayLabel.TextXAlignment = Enum.TextXAlignment.Left

DelayInput.Name = "DelayInput"
DelayInput.Parent = MainFrame
DelayInput.BackgroundColor3 = Color3.fromRGB(50, 50, 60)
DelayInput.Position = UDim2.new(0.1, 0, 0.85, 0)
DelayInput.Size = UDim2.new(0.8, 0, 0, 30)
DelayInput.Font = Enum.Font.Gotham
DelayInput.PlaceholderText = "0.01 (recommended)"
DelayInput.Text = "0.01"
DelayInput.TextColor3 = Color3.fromRGB(255, 255, 255)
DelayInput.TextSize = 13

local DelayCorner = Instance.new("UICorner")
DelayCorner.CornerRadius = UDim.new(0, 6)
DelayCorner.Parent = DelayInput

DelayInput.FocusLost:Connect(function()
    local newDelay = tonumber(DelayInput.Text)
    if newDelay and newDelay >= 0.01 then
        trainingDelay = newDelay
    else
        DelayInput.Text = tostring(trainingDelay)
    end
end)

-- Combat Power Display
CombatPowerLabel.Name = "CombatPowerLabel"
CombatPowerLabel.Parent = MainFrame
CombatPowerLabel.BackgroundTransparency = 1
CombatPowerLabel.Position = UDim2.new(0.1, 0, 0.93, 0)
CombatPowerLabel.Size = UDim2.new(0.8, 0, 0, 25)
CombatPowerLabel.Font = Enum.Font.GothamBold
CombatPowerLabel.Text = "Combat Power: Loading..."
CombatPowerLabel.TextColor3 = Color3.fromRGB(255, 200, 0)
CombatPowerLabel.TextSize = 13

-- Update Combat Power Display
spawn(function()
    while wait(1) do
        pcall(function()
            local GetCombatPower = ReplicatedStorage.TrainSystem.Bindable.GetCombatPower
            local cp = GetCombatPower:Invoke(player)
            if cp then
                CombatPowerLabel.Text = "Combat Power: " .. tostring(cp)
            end
        end)
    end
end)

-- Toggle Functionality
ToggleButton.MouseButton1Click:Connect(function()
    autoTrainEnabled = not autoTrainEnabled
    
    if autoTrainEnabled then
        ToggleButton.Text = "STOP AUTO TRAIN"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(220, 50, 50)
        StatusLabel.Text = "Status: Active ✅"
        StatusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
        startAutoTrain()
    else
        ToggleButton.Text = "START AUTO TRAIN"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(60, 180, 80)
        StatusLabel.Text = "Status: Inactive ⭕"
        StatusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
    end
end)

print("✅ Auto Training Script Loaded!")
print("📊 GUI Created - Drag to move")
print("⚡ Configure settings and press START")

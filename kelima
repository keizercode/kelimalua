-- Base Value Modifier - Mengubah angka dasar training
-- Simple, Stable, dan Smooth

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer

-- Settings
local Settings = {
    BaseValue = 1000000, -- Angka dasar yang akan dikembalikan
    Enabled = false,
    AutoTrain = false
}

local Stats = {
    TrainCount = 0,
    LastGain = 0
}

-- Helper
local function FormatNumber(num)
    if num >= 1e9 then return string.format("%.2fB", num / 1e9)
    elseif num >= 1e6 then return string.format("%.2fM", num / 1e6)
    elseif num >= 1e3 then return string.format("%.1fK", num / 1e3)
    end
    return tostring(math.floor(num))
end

local function Notify(text)
    pcall(function()
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "‚ö° Base Modifier";
            Text = text;
            Duration = 2;
        })
    end)
end

-- Create GUI
local gui = Instance.new("ScreenGui")
gui.Name = "BaseModifierGUI"
gui.ResetOnSpawn = false
pcall(function() gui.Parent = game:GetService("CoreGui") end)
if not gui.Parent then gui.Parent = player:WaitForChild("PlayerGui") end

-- Main Frame
local main = Instance.new("Frame")
main.Size = UDim2.new(0, 320, 0, 280)
main.Position = UDim2.new(0.5, -160, 0.5, -140)
main.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
main.BorderSizePixel = 0
main.Active = true
main.Draggable = true
main.Parent = gui

local mainCorner = Instance.new("UICorner", main)
mainCorner.CornerRadius = UDim.new(0, 10)

local mainStroke = Instance.new("UIStroke", main)
mainStroke.Color = Color3.fromRGB(100, 100, 255)
mainStroke.Thickness = 2

-- Top Bar
local topBar = Instance.new("Frame", main)
topBar.Size = UDim2.new(1, 0, 0, 40)
topBar.BackgroundColor3 = Color3.fromRGB(35, 35, 50)
topBar.BorderSizePixel = 0

local topCorner = Instance.new("UICorner", topBar)
topCorner.CornerRadius = UDim.new(0, 10)

local title = Instance.new("TextLabel", topBar)
title.Size = UDim2.new(1, -70, 1, 0)
title.Position = UDim2.new(0, 10, 0, 0)
title.BackgroundTransparency = 1
title.Text = "‚ö° BASE MODIFIER"
title.TextColor3 = Color3.fromRGB(100, 200, 255)
title.TextSize = 16
title.Font = Enum.Font.GothamBold
title.TextXAlignment = Enum.TextXAlignment.Left

local minBtn = Instance.new("TextButton", topBar)
minBtn.Size = UDim2.new(0, 25, 0, 25)
minBtn.Position = UDim2.new(1, -55, 0, 7)
minBtn.BackgroundColor3 = Color3.fromRGB(80, 80, 120)
minBtn.Text = "‚àí"
minBtn.TextColor3 = Color3.new(1, 1, 1)
minBtn.TextSize = 18
minBtn.Font = Enum.Font.GothamBold
minBtn.BorderSizePixel = 0
Instance.new("UICorner", minBtn).CornerRadius = UDim.new(0, 5)

local closeBtn = Instance.new("TextButton", topBar)
closeBtn.Size = UDim2.new(0, 25, 0, 25)
closeBtn.Position = UDim2.new(1, -28, 0, 7)
closeBtn.BackgroundColor3 = Color3.fromRGB(255, 70, 70)
closeBtn.Text = "√ó"
closeBtn.TextColor3 = Color3.new(1, 1, 1)
closeBtn.TextSize = 18
closeBtn.Font = Enum.Font.GothamBold
closeBtn.BorderSizePixel = 0
Instance.new("UICorner", closeBtn).CornerRadius = UDim.new(0, 5)

-- Content
local content = Instance.new("Frame", main)
content.Size = UDim2.new(1, -20, 1, -50)
content.Position = UDim2.new(0, 10, 0, 45)
content.BackgroundTransparency = 1

-- Status Display
local statusBox = Instance.new("Frame", content)
statusBox.Size = UDim2.new(1, 0, 0, 60)
statusBox.BackgroundColor3 = Color3.fromRGB(30, 30, 45)
statusBox.BorderSizePixel = 0
Instance.new("UICorner", statusBox).CornerRadius = UDim.new(0, 8)

local statusLabel = Instance.new("TextLabel", statusBox)
statusLabel.Size = UDim2.new(1, -10, 0, 20)
statusLabel.Position = UDim2.new(0, 5, 0, 5)
statusLabel.BackgroundTransparency = 1
statusLabel.Text = "‚≠ï INACTIVE"
statusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
statusLabel.TextSize = 14
statusLabel.Font = Enum.Font.GothamBold
statusLabel.TextXAlignment = Enum.TextXAlignment.Left

local valueLabel = Instance.new("TextLabel", statusBox)
valueLabel.Size = UDim2.new(1, -10, 0, 18)
valueLabel.Position = UDim2.new(0, 5, 0, 25)
valueLabel.BackgroundTransparency = 1
valueLabel.Text = "üíé Base: 1.00M per train"
valueLabel.TextColor3 = Color3.fromRGB(100, 255, 200)
valueLabel.TextSize = 12
valueLabel.Font = Enum.Font.GothamBold
valueLabel.TextXAlignment = Enum.TextXAlignment.Left

local statsLabel = Instance.new("TextLabel", statusBox)
statsLabel.Size = UDim2.new(1, -10, 0, 15)
statsLabel.Position = UDim2.new(0, 5, 0, 42)
statsLabel.BackgroundTransparency = 1
statsLabel.Text = "üéØ Trained: 0 | Last: +0"
statsLabel.TextColor3 = Color3.fromRGB(150, 150, 180)
statsLabel.TextSize = 10
statsLabel.Font = Enum.Font.Gotham
statsLabel.TextXAlignment = Enum.TextXAlignment.Left

-- Value Settings
local valueBox = Instance.new("Frame", content)
valueBox.Size = UDim2.new(1, 0, 0, 70)
valueBox.Position = UDim2.new(0, 0, 0, 68)
valueBox.BackgroundColor3 = Color3.fromRGB(30, 30, 45)
valueBox.BorderSizePixel = 0
Instance.new("UICorner", valueBox).CornerRadius = UDim.new(0, 8)

local valueTitle = Instance.new("TextLabel", valueBox)
valueTitle.Size = UDim2.new(1, -10, 0, 22)
valueTitle.Position = UDim2.new(0, 5, 0, 5)
valueTitle.BackgroundTransparency = 1
valueTitle.Text = "‚öôÔ∏è BASE VALUE: 1.00M"
valueTitle.TextColor3 = Color3.fromRGB(255, 200, 100)
valueTitle.TextSize = 14
valueTitle.Font = Enum.Font.GothamBold
valueTitle.TextXAlignment = Enum.TextXAlignment.Left

local valueInfo = Instance.new("TextLabel", valueBox)
valueInfo.Size = UDim2.new(1, -10, 0, 16)
valueInfo.Position = UDim2.new(0, 5, 0, 27)
valueInfo.BackgroundTransparency = 1
valueInfo.Text = "Training akan return nilai ini"
valueInfo.TextColor3 = Color3.fromRGB(180, 180, 200)
valueInfo.TextSize = 10
valueInfo.Font = Enum.Font.Gotham
valueInfo.TextXAlignment = Enum.TextXAlignment.Left

-- Preset Buttons
local presetFrame = Instance.new("Frame", valueBox)
presetFrame.Size = UDim2.new(1, -10, 0, 22)
presetFrame.Position = UDim2.new(0, 5, 0, 43)
presetFrame.BackgroundTransparency = 1

local function CreatePresetBtn(text, pos, value)
    local btn = Instance.new("TextButton", presetFrame)
    btn.Size = UDim2.new(0.31, 0, 1, 0)
    btn.Position = UDim2.new(pos, 0, 0, 0)
    btn.BackgroundColor3 = Color3.fromRGB(60, 100, 180)
    btn.Text = text
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.TextSize = 12
    btn.Font = Enum.Font.GothamBold
    btn.BorderSizePixel = 0
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 5)
    
    btn.MouseButton1Click:Connect(function()
        Settings.BaseValue = value
        valueTitle.Text = string.format("‚öôÔ∏è BASE VALUE: %s", FormatNumber(value))
        valueLabel.Text = string.format("üíé Base: %s per train", FormatNumber(value))
        Notify(string.format("Set to %s!", FormatNumber(value)))
    end)
    
    return btn
end

CreatePresetBtn("1M", 0, 1000000)
CreatePresetBtn("10M", 0.345, 10000000)
CreatePresetBtn("100M", 0.69, 100000000)

-- Enable Button
local enableBtn = Instance.new("TextButton", content)
enableBtn.Size = UDim2.new(1, 0, 0, 42)
enableBtn.Position = UDim2.new(0, 0, 0, 146)
enableBtn.BackgroundColor3 = Color3.fromRGB(100, 50, 200)
enableBtn.Text = "üöÄ ACTIVATE"
enableBtn.TextColor3 = Color3.new(1, 1, 1)
enableBtn.TextSize = 16
enableBtn.Font = Enum.Font.GothamBold
enableBtn.BorderSizePixel = 0
Instance.new("UICorner", enableBtn).CornerRadius = UDim.new(0, 8)

local enableStroke = Instance.new("UIStroke", enableBtn)
enableStroke.Color = Color3.fromRGB(150, 100, 255)
enableStroke.Thickness = 2

-- Auto Train Button
local autoBtn = Instance.new("TextButton", content)
autoBtn.Size = UDim2.new(1, 0, 0, 35)
autoBtn.Position = UDim2.new(0, 0, 0, 195)
autoBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
autoBtn.Text = "ü§ñ AUTO TRAIN: OFF"
autoBtn.TextColor3 = Color3.fromRGB(180, 180, 200)
autoBtn.TextSize = 13
autoBtn.Font = Enum.Font.GothamBold
autoBtn.BorderSizePixel = 0
Instance.new("UICorner", autoBtn).CornerRadius = UDim.new(0, 8)

-- Minimized Version
local minimized = Instance.new("Frame", gui)
minimized.Size = UDim2.new(0, 180, 0, 40)
minimized.Position = UDim2.new(0.5, -90, 0, 10)
minimized.BackgroundColor3 = Color3.fromRGB(35, 35, 50)
minimized.BorderSizePixel = 0
minimized.Visible = false
minimized.Active = true
minimized.Draggable = true
Instance.new("UICorner", minimized).CornerRadius = UDim.new(0, 8)

local minLabel = Instance.new("TextLabel", minimized)
minLabel.Size = UDim2.new(1, -40, 1, 0)
minLabel.Position = UDim2.new(0, 8, 0, 0)
minLabel.BackgroundTransparency = 1
minLabel.Text = "‚ö° BASE MODIFIER"
minLabel.TextColor3 = Color3.fromRGB(100, 200, 255)
minLabel.TextSize = 13
minLabel.Font = Enum.Font.GothamBold
minLabel.TextXAlignment = Enum.TextXAlignment.Left

local restoreBtn = Instance.new("TextButton", minimized)
restoreBtn.Size = UDim2.new(0, 32, 0, 32)
restoreBtn.Position = UDim2.new(1, -36, 0, 4)
restoreBtn.BackgroundColor3 = Color3.fromRGB(100, 50, 200)
restoreBtn.Text = "+"
restoreBtn.TextColor3 = Color3.new(1, 1, 1)
restoreBtn.TextSize = 20
restoreBtn.Font = Enum.Font.GothamBold
restoreBtn.BorderSizePixel = 0
Instance.new("UICorner", restoreBtn).CornerRadius = UDim.new(0, 5)

-- Button Connections
minBtn.MouseButton1Click:Connect(function()
    main.Visible = false
    minimized.Visible = true
end)

restoreBtn.MouseButton1Click:Connect(function()
    main.Visible = true
    minimized.Visible = false
end)

closeBtn.MouseButton1Click:Connect(function()
    if Settings.Enabled then
        Notify("Deactivate first!")
    else
        gui:Destroy()
    end
end)

enableBtn.MouseButton1Click:Connect(function()
    Settings.Enabled = not Settings.Enabled
    
    if Settings.Enabled then
        enableBtn.BackgroundColor3 = Color3.fromRGB(50, 200, 100)
        enableBtn.Text = "‚úÖ ACTIVE"
        enableStroke.Color = Color3.fromRGB(100, 255, 150)
        statusLabel.Text = "üî• ACTIVE!"
        statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
        Notify("Activated!")
    else
        enableBtn.BackgroundColor3 = Color3.fromRGB(100, 50, 200)
        enableBtn.Text = "üöÄ ACTIVATE"
        enableStroke.Color = Color3.fromRGB(150, 100, 255)
        statusLabel.Text = "‚≠ï INACTIVE"
        statusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
        Notify("Deactivated!")
    end
end)

autoBtn.MouseButton1Click:Connect(function()
    Settings.AutoTrain = not Settings.AutoTrain
    
    if Settings.AutoTrain then
        autoBtn.BackgroundColor3 = Color3.fromRGB(80, 180, 255)
        autoBtn.TextColor3 = Color3.new(1, 1, 1)
        autoBtn.Text = "ü§ñ AUTO TRAIN: ON"
    else
        autoBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
        autoBtn.TextColor3 = Color3.fromRGB(180, 180, 200)
        autoBtn.Text = "ü§ñ AUTO TRAIN: OFF"
    end
end)

-- Update Stats
local function UpdateStats()
    statsLabel.Text = string.format("üéØ Trained: %d | Last: +%s", 
        Stats.TrainCount, FormatNumber(Stats.LastGain))
end

-- CORE HOOKING - Mengubah angka dasar yang dikembalikan
local oldNamecall
oldNamecall = hookmetamethod(game, "__namecall", function(self, ...)
    local method = getnamecallmethod()
    local args = {...}
    
    if not Settings.Enabled then
        return oldNamecall(self, ...)
    end
    
    -- Hook InvokeServer - Ganti return value
    if method == "InvokeServer" then
        -- Untuk training remotes
        if tostring(self):find("Train") or tostring(self):find("Apply") then
            -- Return base value langsung
            task.spawn(function()
                Stats.TrainCount = Stats.TrainCount + 1
                Stats.LastGain = Settings.BaseValue
                UpdateStats()
            end)
            return Settings.BaseValue
        end
    end
    
    return oldNamecall(self, ...)
end)

-- Hook BindableFunction - Ganti return value
task.spawn(function()
    task.wait(1)
    
    for _, obj in pairs(ReplicatedStorage:GetDescendants()) do
        if obj:IsA("BindableFunction") then
            local name = obj.Name
            -- Hook function yang berhubungan dengan training
            if name:find("Train") or name:find("GetValue") or name:find("Combat") then
                pcall(function()
                    local oldInvoke = obj.OnInvoke
                    obj.OnInvoke = function(...)
                        if not Settings.Enabled then
                            return oldInvoke(...)
                        end
                        
                        -- Return base value langsung
                        task.spawn(function()
                            Stats.LastGain = Settings.BaseValue
                            UpdateStats()
                        end)
                        
                        return Settings.BaseValue
                    end
                end)
            end
        end
    end
end)

-- Auto Train Loop
task.spawn(function()
    while task.wait(0.5) do
        if Settings.Enabled and Settings.AutoTrain then
            pcall(function()
                -- Cari remote training dari referensi Sigma Spy
                local trainRemote = ReplicatedStorage:FindFirstChild("TrainEquipment")
                if trainRemote then
                    local remote = trainRemote:FindFirstChild("Remote")
                    if remote then
                        -- Try Stationary Train
                        local stationaryTrain = remote:FindFirstChild("ApplyStationaryTrain")
                        if stationaryTrain then
                            stationaryTrain:InvokeServer()
                        end
                        
                        -- Try Mobile Train
                        local mobileTrain = remote:FindFirstChild("ApplyMobileTrain")
                        if mobileTrain then
                            mobileTrain:InvokeServer()
                        end
                    end
                end
            end)
        end
    end
end)

-- Initialize
Notify("Loaded! Set value & activate!")

print("==========================================")
print("‚ö° BASE VALUE MODIFIER - LOADED!")
print("==========================================")
print("üíé Mengubah angka dasar training")
print("üöÄ Set value, lalu activate")
print("==========================================")
